@using Microsoft.AspNetCore.Identity
@using DartLog.Models

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<ul class="navbar-nav">
@if (SignInManager.IsSignedIn(User))
{
    <!-- ユーザー名リンク（ユーザー情報編集画面へ） -->
    <li class="nav-item">
        <a id="manage"
           class="nav-link text-light"
           asp-area="Identity"
           asp-page="/Account/Manage/Index"
           title="アカウント設定">
            @UserManager.GetUserName(User) さん
        </a>
    </li>

    <!-- ログアウト：確認画面（/Account/Logout の GET）へ遷移 -->
    <li class="nav-item">
        <a id="logout"
           class="nav-link text-light"
           asp-area="Identity"
           asp-page="/Account/Logout">
            ログアウト
        </a>
    </li>
}
else
{
    <!-- 未ログイン時：登録／ログイン -->
    <li class="nav-item">
        <a class="nav-link text-light" id="register"
           asp-area="Identity"
           asp-page="/Account/Register">
            アカウント登録
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link text-light" id="login"
           asp-area="Identity"
           asp-page="/Account/Login">
            ログイン
        </a>
    </li>
}
</ul>
